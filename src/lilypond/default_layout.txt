font = #"VAR_FONT_NAME"
fontSize = VAR_FONT_SIZE

showMelodie = ##f
#(if melodie (set! showMelodie #t))

showChords = ##f
#(if akordy (set! showChords #t))

melodie = \relative c' {
  \key \originalKey \major
  #(if alt #{ { \voiceOne } #}) 
	#(if showMelodie #{ { \melodie } #}) 
}

alt = \relative c' {
  #(if showMelodie #{ { \voiceTwo } #}) 
  #(if alt #{ { \alt } #}) 
}
 
\score { \transpose \originalKey \targetKey
  <<
    \new ChordNames { #(if showChords #{ { \akordy } #}) }
		\new Staff \with {\consists "Merge_rests_engraver"} {
				<<
				 	\new Voice = "one" {  \melodie }
					\new Voice = "two" {  \alt }
				>>
		 }
    #(if text #{ \new Lyrics \lyricsto "one" \text  #})
		#(if textAlt #{ \new Lyrics \lyricsto "two" \textAlt  #})
  >>
}

%přizpůsobení vzhledu
\layout {
    \context {
      \Score \remove "Bar_number_engraver"		% ruší čísla taktů na kraji osnovy      
    }
    \context {
      \ChordNames {
        \set chordRootNamer = #(chord-name->german-markup #t)		% Přepíná B na H
        \set majorSevenSymbol = \markup { maj7 }		% mění zobrazení maj akordů
        \override VerticalAxisGroup.nonstaff-relatedstaff-spacing.padding = #0.7		% posunuje akordy výš (defaultně 0.5)
        #(if font #{ \override ChordName #'font-name = \font #})
        \override ChordName #'font-size = \fontSize
      }
    }
    \context {
      \Lyrics {
        %\override LyricHyphen.minimum-distance = #1	% vynucení pomlček mezi slabikami
        #(if font #{ \override LyricText #'font-name = \font #})
        #(if font #{ \override StanzaNumber #'font-name = \font #})
        \override LyricText #'font-size = \fontSize	
        \override StanzaNumber #'font-size = \fontSize
      }
    }
    \context {
      \Staff \RemoveAllEmptyStaves      
    }
    \context {
      \Voice
      % Automatic note splitting http://lilypond.org/doc/v2.22/Documentation/notation/displaying-rhythms#automatic-note-splitting
      \remove "Note_heads_engraver"
      \consists "Completion_heads_engraver"
      \remove "Rest_engraver"
      \consists "Completion_rest_engraver"
    }
}